import{t as m,u as p,A as f}from"./navbar-BxfGq1EY.js";import{s as h,a as g,f as v}from"./logout-inusWMmd.js";document.addEventListener("DOMContentLoaded",function(){m(),p(),h(),g();const a=localStorage.getItem("accessToken"),o=document.getElementById("auth-message"),n=document.getElementById("profiles-container");if(!a){o&&o.classList.remove("hidden"),n&&n.classList.add("hidden");return}b(),E();const e=document.getElementById("search-input");e.addEventListener("input",function(){const t=e.value.trim();d(t)}),d(),v()});function b(){const a=document.getElementById("profiles-wrapper");if(!a)return;const o=document.createElement("div");o.className="mb-6 max-w-md mx-auto relative";const n=document.createElement("span");n.textContent="🔍",n.className="absolute left-3 top-3 text-gray-400 pointer-events-none";const e=document.createElement("button");e.textContent="✖️",e.className="absolute right-3 top-2.5 text-gray-400 hover:text-white hidden",e.setAttribute("type","button");const t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("id","search-input"),t.setAttribute("placeholder","Search by username..."),t.className="p-3 pl-10 pr-10 w-full rounded-md bg-gray-800 text-white placeholder-gray-400 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150",e.addEventListener("click",()=>{t.value="",e.classList.add("hidden"),d()}),t.addEventListener("input",()=>{t.value.trim().length>0?e.classList.remove("hidden"):e.classList.add("hidden")}),o.appendChild(n),o.appendChild(e),o.appendChild(t),a.insertBefore(o,a.firstChild)}function E(){document.getElementById("profiles-container").classList.add("grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","p-4")}async function d(a=""){const o=localStorage.getItem("accessToken");if(!o)throw new Error("Token not found. Please log in.");let n="https://v2.api.noroff.dev/auction/profiles";a&&(n=`https://v2.api.noroff.dev/auction/profiles/search?q=${a}`);const e=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${o}`,"X-Noroff-API-Key":f}});if(!e.ok)throw new Error(`API Error: ${e.status} - ${e.statusText}`);const t=await e.json();if(!t||!t.data)throw new Error("No profiles found");w(t.data)}function w(a){const o=document.getElementById("profiles-container");o.innerHTML="",a.forEach(n=>{var c,l;const e=document.createElement("div");e.classList.add("bg-gray-800","p-6","rounded-lg","shadow-md","hover:shadow-xl","transition","duration-300","ease-in-out","cursor-pointer");const t=document.createElement("img");t.src=((c=n.avatar)==null?void 0:c.url)||"default-avatar.jpg",t.alt=((l=n.avatar)==null?void 0:l.alt)||"Avatar",t.classList.add("w-24","h-24","rounded-full","mb-4","object-cover");const i=document.createElement("h2");i.classList.add("text-xl","font-semibold","text-white","mb-2"),i.textContent=n.name;const s=document.createElement("p");s.classList.add("text-gray-400","mb-4"),s.textContent=n.bio||"No bio available";const r=document.createElement("button");r.type="button",r.textContent="View Profile",r.className="btn-view-profile",r.setAttribute("aria-label","View Profile"),r.addEventListener("click",u=>{u.preventDefault(),window.location.href=`/html/different-profile.html?name=${n.name}`}),e.appendChild(t),e.appendChild(i),e.appendChild(s),e.appendChild(r),o.appendChild(e)})}
